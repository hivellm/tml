// Simple generic closure test
use test

func apply[T](x: T, f: func(T) -> T) -> T {
    return f(x)
}

@test
func test_generic_apply_multiply() -> I32 {
    let result: I32 = apply(5, do(val: I32) val * 2)
    assert(result == 10, "apply(5, *2) should be 10")
    return 0
}

@test
func test_generic_apply_add() -> I32 {
    let result: I32 = apply(7, do(val: I32) val + 3)
    assert(result == 10, "apply(7, +3) should be 10")
    return 0
}
