// Process management

/// Process handle
pub type Process {
    pid: I32,
}

/// Exit code from a process
pub type ExitCode {
    code: I32,
}

impl Process {
    /// Spawn a new process
    pub func spawn(command: Str) -> Outcome[Process, Str] {
        // TODO: Call builtin process_spawn
        Err("not implemented")
    }

    /// Wait for process to complete
    pub func wait(this) -> Outcome[ExitCode, Str] {
        // TODO: Call builtin process_wait
        Err("not implemented")
    }

    /// Kill the process
    pub func kill(this) -> Outcome[(), Str] {
        // TODO: Call builtin process_kill
        Err("not implemented")
    }
}

/// Exit the current process
pub func exit(code: I32) {
    // TODO: Call builtin process_exit
}

/// Get current process ID
pub func id() -> I32 {
    // TODO: Call builtin process_id
    0
}

@test
func test_exit_code() {
    let code: ExitCode = ExitCode { code: 0 }
    assert_eq!(code.code, 0)
}
