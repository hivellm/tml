// Test 14: Bitwise operations
func main() {
    // Bitwise AND
    let a: I32 = 0b1100  // 12
    let b: I32 = 0b1010  // 10
    println(a & b)   // 0b1000 = 8

    // Bitwise OR
    println(a | b)   // 0b1110 = 14

    // Bitwise XOR
    println(a ^ b)   // 0b0110 = 6

    // Bitwise NOT
    let c: I32 = 0
    println(~c)      // -1 (all bits set)

    // Left shift
    let x: I32 = 1
    println(x << 4)  // 16

    // Right shift
    let y: I32 = 64
    println(y >> 2)  // 16

    // Chained operations
    let mask: I32 = 0xFF
    let value: I32 = 0x1234
    println(value & mask)  // 0x34 = 52

    // Bit manipulation: set bit 3
    let n: I32 = 0
    let bit3_set: I32 = n | (1 << 3)
    println(bit3_set)  // 8

    // Bit manipulation: clear bit 3
    let m: I32 = 15  // 0b1111
    let bit3_clear: I32 = m & ~(1 << 3)
    println(bit3_clear)  // 7 (0b0111)

    // Check if bit is set
    let test: I32 = 10  // 0b1010
    let bit1_set: I32 = (test & (1 << 1)) != 0
    println(bit1_set)  // true

    let bit2_set: I32 = (test & (1 << 2)) != 0
    println(bit2_set)  // false
}
