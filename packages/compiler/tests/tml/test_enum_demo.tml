// Demo: Enum constructors and pattern matching in TML

type Option {
    Some(I64),
    None,
}

type Result {
    Ok(I64),
    Err(I32),
}

func demo_option() {
    println("=== Option Demo ===")

    let x: Option = Some(42)
    when x {
        Some(v) => {
            println("Has value:")
            println(v)
        },
        None => println("No value"),
    }

    let y: Option = None
    when y {
        Some(v) => println(v),
        None => println("None case matched!"),
    }
}

func demo_result() {
    println("")
    println("=== Result Demo ===")

    let success: Result = Ok(100)
    when success {
        Ok(val) => {
            println("Success with value:")
            println(val)
        },
        Err(code) => println(code),
    }

    let failure: Result = Err(404)
    when failure {
        Ok(val) => println(val),
        Err(code) => {
            println("Error code:")
            println(code)
        },
    }
}

func main() {
    println("TML Enum Implementation Demo")
    println("")

    demo_option()
    demo_result()

    println("")
    println("All demos completed successfully!")
}
