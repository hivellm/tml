# TML Core Library - Low-level System Primitives
# These modules require C runtime for system calls

[core]
version = "1.0.0"
compiler_version = "0.1.0"

# All core modules have lowlevel C runtime implementations
# These are the ONLY modules that call system APIs directly

[[modules]]
name = "core::mem"
source = "src/mem.tml"
runtime = "runtime/mem.c"
description = "Memory allocation primitives (malloc/free wrappers)"

[[modules]]
name = "core::thread"
source = "src/thread.tml"
runtime = "runtime/thread.c"
description = "Threading primitives (pthread wrappers, channels)"

[[modules]]
name = "core::sync"
source = "src/sync.tml"
# NOTE: Atomic operations are LLVM intrinsics (no C runtime needed)
# Spinlocks are implemented using LLVM atomic intrinsics in codegen
description = "Synchronization primitives (atomic ops via LLVM intrinsics, spinlocks)"

[[modules]]
name = "core::time"
source = "src/time.tml"
runtime = "runtime/time.c"
description = "Time primitives (gettimeofday wrappers, Instant API)"
