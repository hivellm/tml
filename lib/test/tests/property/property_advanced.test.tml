//! Advanced property-based testing tests.

use test::property::*
use test::assertions::*

@test
func test_property_stats_aggregation() -> Outcome[(), Str] {
    // Test aggregating multiple property stats
    let mut stats1 = PropertyStats::new()
    stats1.total_tests = 5
    stats1.passed = 4
    stats1.failed = 1

    let mut stats2 = PropertyStats::new()
    stats2.total_tests = 5
    stats2.passed = 5
    stats2.failed = 0

    let mut total = PropertyStats::new()
    total.total_tests = stats1.total_tests + stats2.total_tests
    total.passed = stats1.passed + stats2.passed
    total.failed = stats1.failed + stats2.failed

    assert_eq(total.total_tests, 10, "Aggregated total_tests")
    assert_eq(total.passed, 9, "Aggregated passed")
    assert_eq(total.failed, 1, "Aggregated failed")

    Ok(())
}
