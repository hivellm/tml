//! Test Framework Core Type Definitions
//!
//! This module defines the fundamental types shared across the TML test
//! framework, used by test execution, reporting, and statistics collection.
//!
//! # Test Results
//!
//! - [`TestResult`] — Enum representing test outcome (Passed, Failed, Panicked, Ignored)
//! - [`TestStatus`] — Current execution state (Running, Completed)
//!
//! # Test Metadata
//!
//! - [`TestMetadata`] — Per-test information (name, module, file, line, panic flags)
//! - [`TestContext`] — Live test execution context (metadata, timing, captured output)
//! - [`TestEntry`] — Registered test entry point (metadata + function pointer)
//!
//! # Configuration and Statistics
//!
//! - [`TestConfig`] — Test suite configuration options (parallel, threads, verbose, filter)
//! - [`TestStats`] — Aggregated results (total, passed, failed, ignored, duration)
//!
//! # Example Usage
//!
//! ```tml
//! use test::types::*
//!
//! let metadata = TestMetadata {
//!     name: "test_add",
//!     module: "math",
//!     file: "math.test.tml",
//!     line: 42,
//!     should_panic: false,
//!     panic_message: Nothing,
//!     ignored: false,
//! }
//!
//! let config = TestConfig {
//!     parallel: true,
//!     threads: 4,
//!     nocapture: false,
//!     verbose: false,
//!     quiet: false,
//!     filter: Nothing,
//! }
//! ```

/// Result of a test execution
pub type TestResult {
    Passed,
    Failed(Str),
    Panicked(Str),
    Ignored,
}

/// Current test execution status
pub type TestStatus {
    Running,
    Completed(TestResult),
}

/// Test execution metadata
pub type TestMetadata {
    pub name: Str,
    pub module: Str,
    pub file: Str,
    pub line: I32,
    pub should_panic: Bool,
    pub panic_message: Maybe[Str],
    pub ignored: Bool,
}

/// Test execution context
pub type TestContext {
    pub metadata: TestMetadata,
    pub start_time: I64,
    pub captured_output: Str,
}

/// Registered test entry
pub type TestEntry {
    pub metadata: TestMetadata,
    // Function pointer stored as raw address (test runner calls by name)
    pub function_addr: I64,
}

/// Test suite configuration
pub type TestConfig {
    pub parallel: Bool,
    pub threads: I32,
    pub nocapture: Bool,
    pub verbose: Bool,
    pub quiet: Bool,
    pub filter: Maybe[Str],
}

/// Test suite statistics
pub type TestStats {
    pub total: I32,
    pub passed: I32,
    pub failed: I32,
    pub ignored: I32,
    pub duration: I64,
}
