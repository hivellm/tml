// Tests for core::fmt::helpers - digit_to_char, hex_digit, octal, string utils
use test
use core::fmt::helpers::*

@test
func test_digit_to_char_0() -> I32 {
    assert_eq(digit_to_char(0), "0", "digit_to_char(0) -> '0'")
    return 0
}

@test
func test_digit_to_char_9() -> I32 {
    assert_eq(digit_to_char(9), "9", "digit_to_char(9) -> '9'")
    return 0
}

@test
func test_digit_to_char_invalid() -> I32 {
    assert_eq(digit_to_char(10), "?", "digit_to_char(10) -> '?'")
    return 0
}

@test
func test_hex_digit_10_lower() -> I32 {
    assert_eq(hex_digit(10, false), "a", "hex_digit(10, false) -> 'a'")
    return 0
}

@test
func test_hex_digit_15_upper() -> I32 {
    assert_eq(hex_digit(15, true), "F", "hex_digit(15, true) -> 'F'")
    return 0
}

@test
func test_u64_to_octal_str_zero() -> I32 {
    assert_eq(u64_to_octal_str(0 as U64), "0", "octal 0 -> '0'")
    return 0
}

@test
func test_u64_to_octal_str_8() -> I32 {
    assert_eq(u64_to_octal_str(8 as U64), "10", "octal 8 -> '10'")
    return 0
}

@test
func test_u64_to_octal_str_63() -> I32 {
    assert_eq(u64_to_octal_str(63 as U64), "77", "octal 63 -> '77'")
    return 0
}

@test
func test_repeat_string_basic() -> I32 {
    assert_eq(repeat_string("ab", 3), "ababab", "repeat 'ab' 3 times")
    return 0
}

@test
func test_repeat_string_zero() -> I32 {
    assert_eq(repeat_string("x", 0), "", "repeat 0 times -> empty")
    return 0
}
