// Tests for core::option â€” unwrap_or, expect, is_just/is_nothing edge cases
use test::{assert, assert_eq}

@test
func test_option_unwrap_or_just() -> I32 {
    let x: Maybe[I32] = Just(42)
    assert_eq(x.unwrap_or(0), 42, "unwrap_or Just should return inner value")
    return 0
}

@test
func test_option_unwrap_or_nothing() -> I32 {
    let x: Maybe[I32] = Nothing
    assert_eq(x.unwrap_or(99), 99, "unwrap_or Nothing should return default")
    return 0
}

@test
func test_option_expect_just() -> I32 {
    let x: Maybe[I32] = Just(7)
    assert_eq(x.expect("should have value"), 7, "expect Just should return value")
    return 0
}

@test
func test_option_is_just_true() -> I32 {
    let x: Maybe[I32] = Just(1)
    assert(x.is_just(), "Just should be is_just")
    assert(not x.is_nothing(), "Just should not be is_nothing")
    return 0
}

@test
func test_option_is_nothing_true() -> I32 {
    let x: Maybe[I32] = Nothing
    assert(x.is_nothing(), "Nothing should be is_nothing")
    assert(not x.is_just(), "Nothing should not be is_just")
    return 0
}

@test
func test_option_unwrap_just() -> I32 {
    let x: Maybe[I32] = Just(123)
    assert_eq(x.unwrap(), 123, "unwrap Just should return 123")
    return 0
}
