// Additional bitwise ops coverage tests
use test::{assert_eq, assert}

// ============================================================================
// More uncovered bitxor_assign and shl_assign ops (ops/bit)
// ============================================================================

@test
func test_bitxor_assign_i8() -> I32 {
    let mut a: I8 = 0x0F
    a ^= 0x03
    assert_eq(a as I64, 12, "I8 bitxor_assign")
    return 0
}

@test
func test_bitxor_assign_i16() -> I32 {
    let mut a: I16 = 0x0F
    a ^= 0x03
    assert_eq(a as I64, 12, "I16 bitxor_assign")
    return 0
}

@test
func test_bitxor_assign_i64() -> I32 {
    let mut a: I64 = 0x0F
    a ^= 0x03
    assert_eq(a, 12, "I64 bitxor_assign")
    return 0
}

@test
func test_shl_assign_i8() -> I32 {
    let mut a: I8 = 1
    a <<= 3
    assert_eq(a as I64, 8, "I8 shl_assign")
    return 0
}

@test
func test_shl_assign_i16() -> I32 {
    let mut a: I16 = 1
    a <<= 3
    assert_eq(a as I64, 8, "I16 shl_assign")
    return 0
}

@test
func test_shr_assign_i8() -> I32 {
    let mut a: I8 = 16
    a >>= 2
    assert_eq(a as I64, 4, "I8 shr_assign")
    return 0
}

@test
func test_shr_assign_i16() -> I32 {
    let mut a: I16 = 16
    a >>= 2
    assert_eq(a as I64, 4, "I16 shr_assign")
    return 0
}

@test
func test_bitor_assign_u16() -> I32 {
    let mut a: U16 = 0x01
    a |= 0x10
    assert_eq(a as I64, 17, "U16 bitor_assign")
    return 0
}

@test
func test_bitxor_assign_u16() -> I32 {
    let mut a: U16 = 0x0F
    a ^= 0x03
    assert_eq(a as I64, 12, "U16 bitxor_assign")
    return 0
}

@test
func test_bitxor_assign_u32() -> I32 {
    let mut a: U32 = 0x0F
    a ^= 0x03
    assert_eq(a as I64, 12, "U32 bitxor_assign")
    return 0
}

@test
func test_shl_assign_u8() -> I32 {
    let mut a: U8 = 1
    a <<= 3
    assert_eq(a as I64, 8, "U8 shl_assign")
    return 0
}

@test
func test_shl_assign_u64() -> I32 {
    let mut a: U64 = 1
    a <<= 3
    assert_eq(a as I64, 8, "U64 shl_assign")
    return 0
}

@test
func test_shr_assign_u16() -> I32 {
    let mut a: U16 = 16
    a >>= 2
    assert_eq(a as I64, 4, "U16 shr_assign")
    return 0
}

@test
func test_shr_assign_u64() -> I32 {
    let mut a: U64 = 16
    a >>= 2
    assert_eq(a as I64, 4, "U64 shr_assign")
    return 0
}
