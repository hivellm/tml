// Higher-order function that takes a function pointer
use test

pub func apply(f: func(I32) -> I32, x: I32) -> I32 {
    return f(x)
}

@test
func test_higher_order_function() -> I32 {
    let triple: func(I32) -> I32 = do(x: I32) -> I32 { x * 3 }
    let result: I32 = apply(triple, 7)
    assert_eq(result, 21, "7 * 3 should be 21")
    return 0
}
