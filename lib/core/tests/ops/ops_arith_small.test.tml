// Tests for arithmetic operators on small integer types (I8, I16, U8, U16)
use test

// =============================================================================
// I8 arithmetic
// =============================================================================

@test
func test_i8_add() -> I32 {
    let a: I8 = 10
    let b: I8 = 20
    let r: I8 = a + b
    assert_eq(r as I32, 30, "I8 10+20=30")
    return 0
}

@test
func test_i8_sub() -> I32 {
    let a: I8 = 50
    let b: I8 = 20
    let r: I8 = a - b
    assert_eq(r as I32, 30, "I8 50-20=30")
    return 0
}

@test
func test_i8_mul() -> I32 {
    let a: I8 = 6
    let b: I8 = 7
    let r: I8 = a * b
    assert_eq(r as I32, 42, "I8 6*7=42")
    return 0
}

@test
func test_i8_div() -> I32 {
    let a: I8 = 100
    let b: I8 = 10
    let r: I8 = a / b
    assert_eq(r as I32, 10, "I8 100/10=10")
    return 0
}

@test
func test_i8_rem() -> I32 {
    let a: I8 = 17
    let b: I8 = 5
    let r: I8 = a % b
    assert_eq(r as I32, 2, "I8 17%5=2")
    return 0
}

@test
func test_i8_neg() -> I32 {
    let a: I8 = 42
    let r: I8 = -a
    assert_eq(r as I32, -42, "I8 neg 42=-42")
    return 0
}

// =============================================================================
// I16 arithmetic
// =============================================================================

@test
func test_i16_add() -> I32 {
    let a: I16 = 1000
    let b: I16 = 2000
    let r: I16 = a + b
    assert_eq(r as I32, 3000, "I16 1000+2000=3000")
    return 0
}

@test
func test_i16_sub() -> I32 {
    let a: I16 = 5000
    let b: I16 = 2000
    let r: I16 = a - b
    assert_eq(r as I32, 3000, "I16 5000-2000=3000")
    return 0
}

@test
func test_i16_mul() -> I32 {
    let a: I16 = 100
    let b: I16 = 100
    let r: I16 = a * b
    assert_eq(r as I32, 10000, "I16 100*100=10000")
    return 0
}

@test
func test_i16_div() -> I32 {
    let a: I16 = 10000
    let b: I16 = 100
    let r: I16 = a / b
    assert_eq(r as I32, 100, "I16 10000/100=100")
    return 0
}

@test
func test_i16_rem() -> I32 {
    let a: I16 = 1003
    let b: I16 = 100
    let r: I16 = a % b
    assert_eq(r as I32, 3, "I16 1003%100=3")
    return 0
}

@test
func test_i16_neg() -> I32 {
    let a: I16 = 1234
    let r: I16 = -a
    assert_eq(r as I32, -1234, "I16 neg 1234=-1234")
    return 0
}

// =============================================================================
// U8 arithmetic
// =============================================================================

@test
func test_u8_add() -> I32 {
    let a: U8 = 100
    let b: U8 = 50
    let r: U8 = a + b
    assert_eq(r as I32, 150, "U8 100+50=150")
    return 0
}

@test
func test_u8_sub() -> I32 {
    let a: U8 = 200
    let b: U8 = 50
    let r: U8 = a - b
    assert_eq(r as I32, 150, "U8 200-50=150")
    return 0
}

@test
func test_u8_mul() -> I32 {
    let a: U8 = 15
    let b: U8 = 10
    let r: U8 = a * b
    assert_eq(r as I32, 150, "U8 15*10=150")
    return 0
}

@test
func test_u8_div() -> I32 {
    let a: U8 = 200
    let b: U8 = 10
    let r: U8 = a / b
    assert_eq(r as I32, 20, "U8 200/10=20")
    return 0
}

@test
func test_u8_rem() -> I32 {
    let a: U8 = 255
    let b: U8 = 100
    let r: U8 = a % b
    assert_eq(r as I32, 55, "U8 255%100=55")
    return 0
}

// =============================================================================
// U16 arithmetic
// =============================================================================

@test
func test_u16_add() -> I32 {
    let a: U16 = 30000
    let b: U16 = 5000
    let r: U16 = a + b
    assert_eq(r as I32, 35000, "U16 30000+5000=35000")
    return 0
}

@test
func test_u16_sub() -> I32 {
    let a: U16 = 60000
    let b: U16 = 10000
    let r: U16 = a - b
    assert_eq(r as I32, 50000, "U16 60000-10000=50000")
    return 0
}

@test
func test_u16_mul() -> I32 {
    let a: U16 = 200
    let b: U16 = 100
    let r: U16 = a * b
    assert_eq(r as I32, 20000, "U16 200*100=20000")
    return 0
}

@test
func test_u16_div() -> I32 {
    let a: U16 = 50000
    let b: U16 = 100
    let r: U16 = a / b
    assert_eq(r as I32, 500, "U16 50000/100=500")
    return 0
}

@test
func test_u16_rem() -> I32 {
    let a: U16 = 10003
    let b: U16 = 1000
    let r: U16 = a % b
    assert_eq(r as I32, 3, "U16 10003%1000=3")
    return 0
}
