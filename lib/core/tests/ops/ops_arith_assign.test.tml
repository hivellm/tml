// Tests for compound assignment operators (+=, -=, *=, /=, %=)
use test

// =============================================================================
// AddAssign (+=)
// =============================================================================

@test
func test_add_assign_i32() -> I32 {
    var x: I32 = 10
    x += 5
    assert_eq(x, 15, "10 += 5 = 15")
    return 0
}

@test
func test_add_assign_i64() -> I32 {
    var x: I64 = 100
    x += 50
    assert_eq(x, 150, "100 += 50 = 150")
    return 0
}

// =============================================================================
// SubAssign (-=)
// =============================================================================

@test
func test_sub_assign_i32() -> I32 {
    var x: I32 = 20
    x -= 8
    assert_eq(x, 12, "20 -= 8 = 12")
    return 0
}

@test
func test_sub_assign_i64() -> I32 {
    var x: I64 = 1000
    x -= 250
    assert_eq(x, 750, "1000 -= 250 = 750")
    return 0
}

// =============================================================================
// MulAssign (*=)
// =============================================================================

@test
func test_mul_assign_i32() -> I32 {
    var x: I32 = 6
    x *= 7
    assert_eq(x, 42, "6 *= 7 = 42")
    return 0
}

@test
func test_mul_assign_i64() -> I32 {
    var x: I64 = 100
    x *= 100
    assert_eq(x, 10000, "100 *= 100 = 10000")
    return 0
}

// =============================================================================
// DivAssign (/=)
// =============================================================================

@test
func test_div_assign_i32() -> I32 {
    var x: I32 = 100
    x /= 5
    assert_eq(x, 20, "100 /= 5 = 20")
    return 0
}

@test
func test_div_assign_i64() -> I32 {
    var x: I64 = 1000
    x /= 10
    assert_eq(x, 100, "1000 /= 10 = 100")
    return 0
}

// =============================================================================
// RemAssign (%=)
// =============================================================================

@test
func test_rem_assign_i32() -> I32 {
    var x: I32 = 17
    x %= 5
    assert_eq(x, 2, "17 %= 5 = 2")
    return 0
}

@test
func test_rem_assign_i64() -> I32 {
    var x: I64 = 103
    x %= 10
    assert_eq(x, 3, "103 %= 10 = 3")
    return 0
}
