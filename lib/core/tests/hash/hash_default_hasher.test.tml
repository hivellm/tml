// Tests for DefaultHasher (FNV-1a)
use test
use core::hash::DefaultHasher

@test
func test_default_hasher_new() -> I32 {
    let hasher: DefaultHasher = DefaultHasher::new()
    let h: I64 = hasher.finish()
    // FNV offset basis cast to I64
    assert(h != 0, "DefaultHasher::new() should have non-zero initial state")
    return 0
}

@test
func test_default_hasher_with_seed() -> I32 {
    let h1: DefaultHasher = DefaultHasher::with_seed(42 as U64)
    let h2: DefaultHasher = DefaultHasher::with_seed(99 as U64)
    // Different seeds should produce different initial states
    assert(h1.finish() != h2.finish(), "different seeds should produce different states")
    return 0
}

@test
func test_default_hasher_with_seed_deterministic() -> I32 {
    let h1: DefaultHasher = DefaultHasher::with_seed(42 as U64)
    let h2: DefaultHasher = DefaultHasher::with_seed(42 as U64)
    assert_eq(h1.finish(), h2.finish(), "same seed should produce same state")
    return 0
}
