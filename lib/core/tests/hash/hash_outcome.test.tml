// Tests for Hash impl for Outcome[T, E]
use test
use core::hash::Hash

@test
func test_hash_outcome_ok() -> I32 {
    let o: Outcome[I32, I32] = Ok(42)
    let h: I64 = o.hash()
    // Ok(42) should have a deterministic hash
    let o2: Outcome[I32, I32] = Ok(42)
    assert_eq(h, o2.hash(), "equal Ok values should have equal hashes")
    return 0
}

@test
func test_hash_outcome_err() -> I32 {
    let e: Outcome[I32, I32] = Err(99)
    let h: I64 = e.hash()
    let e2: Outcome[I32, I32] = Err(99)
    assert_eq(h, e2.hash(), "equal Err values should have equal hashes")
    return 0
}

@test
func test_hash_outcome_ok_vs_err() -> I32 {
    let ok: Outcome[I32, I32] = Ok(42)
    let err: Outcome[I32, I32] = Err(42)
    // Ok and Err with same inner value should have different hashes
    // because discriminants differ (1 vs 2)
    assert(ok.hash() != err.hash(), "Ok and Err should have different hashes")
    return 0
}
