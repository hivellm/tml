// Tests for core::hash â€” Hash impls for primitives and types, DefaultHasher default/duplicate
use test::{assert, assert_eq}
use core::hash::{DefaultHasher, RandomState, combine_hashes}

// === Hash impls for primitives ===

@test
func test_hash_i32() -> I32 {
    let h: I64 = (42 as I32).hash()
    assert(h != 0, "I32 hash should be non-zero")
    return 0
}

@test
func test_hash_i64() -> I32 {
    let h: I64 = (100 as I64).hash()
    assert(h != 0, "I64 hash should be non-zero")
    return 0
}

@test
func test_hash_bool() -> I32 {
    let ht: I64 = true.hash()
    let hf: I64 = false.hash()
    assert(ht != hf, "true and false should have different hashes")
    return 0
}

@test
func test_hash_str() -> I32 {
    let h: I64 = "hello".hash()
    assert(h != 0, "Str hash should be non-zero")
    let h2: I64 = "hello".hash()
    assert_eq(h, h2, "same string should hash the same")
    return 0
}

@test
func test_hash_str_different() -> I32 {
    let h1: I64 = "hello".hash()
    let h2: I64 = "world".hash()
    assert(h1 != h2, "different strings should have different hashes")
    return 0
}

@test
func test_hash_u8() -> I32 {
    let h: I64 = (255 as U8).hash()
    assert(h != 0, "U8 hash should be non-zero")
    return 0
}
