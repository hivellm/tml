// Tests for core::num::integer - reverse_bits, I64/U32/U64 bit ops
use test
use core::num::integer::{
    reverse_bits_i32, reverse_bits_i64,
    count_zeros_i64, trailing_zeros_i64,
    count_zeros_u32, trailing_zeros_u32,
    count_zeros_u64, trailing_zeros_u64, leading_zeros_u64
}

@test
func test_reverse_bits_i32_one() -> I32 {
    // 1 = 0x00000001 reversed = 0x80000000 = -2147483648 (signed)
    let result: I32 = reverse_bits_i32(1)
    assert(result < 0, "reverse_bits of 1 should be negative (high bit set)")
    return 0
}

@test
func test_reverse_bits_i32_zero() -> I32 {
    assert_eq(reverse_bits_i32(0), 0, "reverse_bits of 0 should be 0")
    return 0
}

@test
func test_reverse_bits_i32_double() -> I32 {
    // Reversing twice should give back original
    let original: I32 = 12345
    let reversed: I32 = reverse_bits_i32(reverse_bits_i32(original))
    assert_eq(reversed, original, "double reverse should be identity")
    return 0
}
