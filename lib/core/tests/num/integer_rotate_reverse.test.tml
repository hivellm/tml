// Tests for rotate and reverse_bits on U32/U64
use test
use core::num::integer::{
    rotate_left_u32, rotate_right_u32, reverse_bits_u32,
    rotate_left_u64, rotate_right_u64, reverse_bits_u64
}

@test
func test_rotate_u32_identity() -> I32 {
    let val: U32 = 42 as U32
    let rotated: U32 = rotate_right_u32(rotate_left_u32(val, 8 as U32), 8 as U32)
    assert_eq(rotated as I32, val as I32, "rotate left+right U32 should be identity")
    return 0
}

@test
func test_reverse_bits_u32_double() -> I32 {
    let original: U32 = 12345 as U32
    let reversed: U32 = reverse_bits_u32(reverse_bits_u32(original))
    assert_eq(reversed as I32, original as I32, "double reverse U32 should be identity")
    return 0
}

@test
func test_rotate_u64_identity() -> I32 {
    let val: U64 = 99999 as U64
    let rotated: U64 = rotate_right_u64(rotate_left_u64(val, 16 as U64), 16 as U64)
    assert_eq(rotated as I64, val as I64, "rotate left+right U64 should be identity")
    return 0
}
