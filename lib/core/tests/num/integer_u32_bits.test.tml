// Tests for U32 bit manipulation functions
use test
use core::num::integer::{
    count_zeros_u32, trailing_zeros_u32,
    rotate_left_u32, rotate_right_u32,
    swap_bytes_u32, reverse_bits_u32
}

@test
func test_count_zeros_u32() -> I32 {
    let zero: U32 = 0 as U32
    assert_eq(count_zeros_u32(zero) as I32, 32, "count_zeros of 0 should be 32")
    let all_ones: U32 = 4294967295 as U32
    assert_eq(count_zeros_u32(all_ones) as I32, 0, "count_zeros of all 1s should be 0")
    return 0
}

@test
func test_trailing_zeros_u32() -> I32 {
    let eight: U32 = 8 as U32
    assert_eq(trailing_zeros_u32(eight) as I32, 3, "trailing zeros of 8 should be 3")
    let one: U32 = 1 as U32
    assert_eq(trailing_zeros_u32(one) as I32, 0, "trailing zeros of 1 should be 0")
    return 0
}

@test
func test_swap_bytes_u32_double() -> I32 {
    let original: U32 = 12345 as U32
    let swapped: U32 = swap_bytes_u32(swap_bytes_u32(original))
    assert_eq(swapped as I32, original as I32, "double swap U32 should be identity")
    return 0
}
