// Tests for I64 bit manipulation functions
use test
use core::num::integer::{
    count_zeros_i64, trailing_zeros_i64, reverse_bits_i64,
    swap_bytes_i64, from_be_i64, from_le_i64, to_be_i64, to_le_i64,
    rotate_left_i64, rotate_right_i64
}

@test
func test_count_zeros_i64() -> I32 {
    // 0 has 64 zeros
    assert_eq(count_zeros_i64(0), 64, "count_zeros of 0 should be 64")
    // -1 (all ones) has 0 zeros
    assert_eq(count_zeros_i64(-1), 0, "count_zeros of -1 should be 0")
    return 0
}

@test
func test_trailing_zeros_i64() -> I32 {
    // 8 = 0b1000, trailing zeros = 3
    assert_eq(trailing_zeros_i64(8), 3, "trailing zeros of 8 should be 3")
    // 1 has 0 trailing zeros
    assert_eq(trailing_zeros_i64(1), 0, "trailing zeros of 1 should be 0")
    return 0
}

@test
func test_reverse_bits_i64_double() -> I32 {
    let original: I64 = 123456789
    let reversed: I64 = reverse_bits_i64(reverse_bits_i64(original))
    assert_eq(reversed, original, "double reverse I64 should be identity")
    return 0
}
