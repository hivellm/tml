// Tests for I64 swap_bytes, endianness, and rotation
use test
use core::num::integer::{
    swap_bytes_i64, from_be_i64, from_le_i64, to_be_i64, to_le_i64,
    rotate_left_i64, rotate_right_i64
}

@test
func test_swap_bytes_i64_double() -> I32 {
    // Swapping twice should give back original
    let original: I64 = 123456789
    let swapped: I64 = swap_bytes_i64(swap_bytes_i64(original))
    assert_eq(swapped, original, "double swap_bytes I64 should be identity")
    return 0
}

@test
func test_from_le_i64() -> I32 {
    // On little-endian (x86), from_le should be identity
    let val: I64 = 42
    assert_eq(from_le_i64(val), val, "from_le_i64 should be identity on LE")
    assert_eq(to_le_i64(val), val, "to_le_i64 should be identity on LE")
    return 0
}

@test
func test_rotate_i64() -> I32 {
    // Rotating left then right by same amount should be identity
    let val: I64 = 12345
    let rotated: I64 = rotate_right_i64(rotate_left_i64(val, 16), 16)
    assert_eq(rotated, val, "rotate left+right should be identity")
    return 0
}
