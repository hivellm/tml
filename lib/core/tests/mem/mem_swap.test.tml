// Tests for core::mem swap and replace
use test
use core::mem::{swap, replace}

@test
func test_swap_i32() -> I32 {
    var a: I32 = 10
    var b: I32 = 20
    swap[I32](mut ref a, mut ref b)
    assert_eq(a, 20, "a should be 20 after swap")
    assert_eq(b, 10, "b should be 10 after swap")
    return 0
}

@test
func test_replace_i32() -> I32 {
    var x: I32 = 5
    let old: I32 = replace[I32](mut ref x, 100)
    assert_eq(x, 100, "x should be 100 after replace")
    assert_eq(old, 5, "old should be 5")
    return 0
}

@test
func test_replace_negative() -> I32 {
    var y: I32 = -42
    let old: I32 = replace[I32](mut ref y, 0)
    assert_eq(old, -42, "old should be -42")
    assert_eq(y, 0, "y should be 0 after replace")
    return 0
}
