// Tests for core::ptr::ops â€” uncovered functions: ptr_distance_mut, eq_mut
use test::{assert, assert_eq}
use core::ptr::ops::{ptr_distance_mut, eq_mut}
use core::ptr::mut_ptr::RawMutPtr

// =============================================================================
// ptr_distance_mut
// =============================================================================

@test
func test_ptr_distance_mut_i64() -> I32 {
    let a: RawMutPtr[I64] = RawMutPtr::from_addr(0x1000 as I64)
    let b: RawMutPtr[I64] = RawMutPtr::from_addr(0x1010 as I64)
    let dist: I64 = ptr_distance_mut(a, b)
    assert_eq(dist, 2 as I64, "ptr_distance_mut 16 bytes / 8 = 2")
    return 0
}

@test
func test_ptr_distance_mut_same() -> I32 {
    let a: RawMutPtr[I32] = RawMutPtr::from_addr(0x2000 as I64)
    let dist: I64 = ptr_distance_mut(a, a)
    assert_eq(dist, 0 as I64, "ptr_distance_mut same = 0")
    return 0
}

@test
func test_ptr_distance_mut_i32() -> I32 {
    let a: RawMutPtr[I32] = RawMutPtr::from_addr(0x1000 as I64)
    let b: RawMutPtr[I32] = RawMutPtr::from_addr(0x1010 as I64)
    let dist: I64 = ptr_distance_mut(a, b)
    assert_eq(dist, 4 as I64, "ptr_distance_mut 16 bytes / 4 = 4")
    return 0
}
