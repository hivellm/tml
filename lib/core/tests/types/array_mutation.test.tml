// Tests for Array mutation with various types and patterns
use test

@test
func test_array_mutation_i64() -> I32 {
    var arr: [I64; 3] = [100, 200, 300]
    arr[0] = 999
    arr[2] = 777
    assert(arr[0] == 999, "first should be 999")
    assert(arr[1] == 200, "second unchanged")
    assert(arr[2] == 777, "third should be 777")
    return 0
}

@test
func test_array_mutation_all_elements() -> I32 {
    var arr: [I32; 4] = [1, 2, 3, 4]
    arr[0] = 10
    arr[1] = 20
    arr[2] = 30
    arr[3] = 40
    let sum: I32 = arr[0] + arr[1] + arr[2] + arr[3]
    assert(sum == 100, "sum after mutation should be 100")
    return 0
}

@test
func test_array_mutation_with_arithmetic() -> I32 {
    var arr: [I32; 3] = [10, 20, 30]
    arr[1] = arr[0] + arr[2]
    assert(arr[1] == 40, "middle element should be sum of first and last")
    return 0
}
