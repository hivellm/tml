// Tests for core::cell::unsafe_cell::UnsafeCell[T] and SyncUnsafeCell[T]
use test
use core::cell::unsafe_cell::{UnsafeCell, SyncUnsafeCell}

@test
func test_unsafe_cell_new_into_inner() -> I32 {
    let c: UnsafeCell[I32] = UnsafeCell::new[I32](42)
    let val: I32 = c.into_inner()
    assert_eq(val, 42, "into_inner should return initial value")
    return 0
}

@test
func test_unsafe_cell_str() -> I32 {
    let c: UnsafeCell[Str] = UnsafeCell::new[Str]("hello")
    let val: Str = c.into_inner()
    assert_eq(val, "hello", "UnsafeCell works with Str")
    return 0
}

@test
func test_sync_unsafe_cell_new_into_inner() -> I32 {
    let c: SyncUnsafeCell[I32] = SyncUnsafeCell::new[I32](99)
    let val: I32 = c.into_inner()
    assert_eq(val, 99, "SyncUnsafeCell into_inner should return value")
    return 0
}
