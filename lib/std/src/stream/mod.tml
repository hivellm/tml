//! Stream abstractions for byte-oriented I/O.
//!
//! This module provides two layers of stream abstractions:
//!
//! # Layer 1: Synchronous Behaviors (low-level)
//!
//! | Behavior/Type | Description |
//! |---------------|-------------|
//! | [`Readable`] | Byte source behavior — blocking `read()` |
//! | [`Writable`] | Byte sink behavior — blocking `write()` + `flush()` |
//! | [`ByteStream`] | In-memory read/write stream |
//! | [`BufferedReader`] | Line-reading and buffering for any source |
//! | [`BufferedWriter`] | Write buffering and auto-flush for any sink |
//! | [`pipe()`] | Copy bytes between synchronous streams |
//!
//! # Layer 2: Event-Driven Streams (Node.js-style)
//!
//! | Type | Description |
//! |------|-------------|
//! | [`ReadableStream`] | Push-based readable with flowing/paused modes |
//! | [`WritableStream`] | Writable with backpressure, cork/uncork |
//! | [`DuplexStream`] | Bidirectional stream (read + write) |
//! | [`TransformStream`] | Transform data through a callback |
//! | [`PassThroughStream`] | Identity transform (pass data through) |
//!
//! # Utilities
//!
//! | Function | Description |
//! |----------|-------------|
//! | [`pipeline()`] | Chain readable to writable with error propagation |
//! | [`pipeline_transform()`] | Chain readable → transform → writable |
//! | [`finished_readable()`] | Wait for readable end/error/close |
//! | [`finished_writable()`] | Wait for writable finish/error/close |
//! | [`from_string()`] | Create a ReadableStream from a string |
//! | [`is_readable()`] | Check if a ReadableStream is readable |
//! | [`is_writable()`] | Check if a WritableStream is writable |

// Layer 1: Synchronous
pub mod readable
pub mod writable
pub mod byte_stream
pub mod buffered
pub mod pipe

// Layer 2: Event-driven
pub mod readable_stream
pub mod writable_stream
pub mod duplex
pub mod transform
pub mod passthrough
pub mod pipeline

// Layer 1 re-exports
pub use std::stream::readable::Readable
pub use std::stream::writable::Writable
pub use std::stream::byte_stream::{ByteStream, read_all, read_to_string, write_all, write_string}
pub use std::stream::buffered::{BufferedReader, BufferedWriter}
pub use std::stream::pipe::{pipe, copy_bytes}

// Layer 2 re-exports
pub use std::stream::readable_stream::ReadableStream
pub use std::stream::writable_stream::WritableStream
pub use std::stream::duplex::DuplexStream
pub use std::stream::transform::TransformStream
pub use std::stream::passthrough::PassThroughStream
pub use std::stream::pipeline::{pipeline, pipeline_transform, finished_readable, finished_writable, from_string, is_readable, is_writable, is_errored_readable, is_errored_writable}
