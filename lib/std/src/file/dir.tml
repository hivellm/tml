//! Directory operations.
//!
//! Provides the [`Dir`] type for creating, removing, and
//! managing directories.
//!
//! # Example
//!
//! ```tml
//! use std::file::Dir
//!
//! Dir::create("output")
//! Dir::create_all("a/b/c")
//! Dir::remove("output")
//! ```

// FFI declarations for C runtime directory operations
@extern("path_create_dir")
func ffi_path_create_dir(path: Str) -> Bool

@extern("path_create_dir_all")
func ffi_path_create_dir_all(path: Str) -> Bool

@extern("path_remove_dir")
func ffi_path_remove_dir(path: Str) -> Bool

/// Directory manipulation utilities.
///
/// `Dir` provides static methods for creating and removing directories.
///
/// # Example
///
/// ```tml
/// if not Path::exists("output") {
///     Dir::create("output")
/// }
/// ```
pub type Dir {
    dummy: I32
}

impl Dir {
    /// Create a directory
    pub func create(path: Str) -> Bool {
        return ffi_path_create_dir(path)
    }

    /// Create a directory and all parent directories
    pub func create_all(path: Str) -> Bool {
        return ffi_path_create_dir_all(path)
    }

    /// Remove an empty directory
    pub func remove(path: Str) -> Bool {
        return ffi_path_remove_dir(path)
    }
}
