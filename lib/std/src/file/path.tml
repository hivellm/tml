//! Path manipulation utilities.
//!
//! Provides the [`Path`] type for querying and manipulating
//! file system paths.
//!
//! # Example
//!
//! ```tml
//! use std::file::Path
//!
//! if Path::exists("data.json") {
//!     let dir = Path::parent("data.json")
//!     let name = Path::filename("data.json")
//! }
//! ```

// FFI declarations for C runtime path operations
@extern("path_exists")
func ffi_path_exists(path: Str) -> Bool

@extern("path_is_file")
func ffi_path_is_file(path: Str) -> Bool

@extern("path_is_dir")
func ffi_path_is_dir(path: Str) -> Bool

@extern("path_create_dir")
func ffi_path_create_dir(path: Str) -> Bool

@extern("path_create_dir_all")
func ffi_path_create_dir_all(path: Str) -> Bool

@extern("path_remove")
func ffi_path_remove(path: Str) -> Bool

@extern("path_remove_dir")
func ffi_path_remove_dir(path: Str) -> Bool

@extern("path_rename")
func ffi_path_rename(src_path: Str, dst_path: Str) -> Bool

@extern("path_copy")
func ffi_path_copy(src_path: Str, dst_path: Str) -> Bool

@extern("path_join")
func ffi_path_join(base_path: Str, child_path: Str) -> Str

@extern("path_parent")
func ffi_path_parent(path: Str) -> Str

@extern("path_filename")
func ffi_path_filename(path: Str) -> Str

@extern("path_extension")
func ffi_path_extension(path: Str) -> Str

@extern("path_absolute")
func ffi_path_absolute(path: Str) -> Str

/// Path manipulation utilities.
///
/// `Path` provides static methods for working with file system paths:
/// checking existence, joining paths, extracting components, etc.
///
/// # Example
///
/// ```tml
/// let full = Path::join("output", "data.txt")
/// let ext = Path::extension("file.txt")  // ".txt"
/// ```
pub type Path {
    dummy: I32
}

impl Path {
    /// Check if a path exists
    pub func exists(path: Str) -> Bool {
        return ffi_path_exists(path)
    }

    /// Check if path is a file
    pub func is_file(path: Str) -> Bool {
        return ffi_path_is_file(path)
    }

    /// Check if path is a directory
    pub func is_dir(path: Str) -> Bool {
        return ffi_path_is_dir(path)
    }

    /// Remove a file
    pub func remove(path: Str) -> Bool {
        return ffi_path_remove(path)
    }

    /// Rename/move a file or directory
    pub func rename(src_path: Str, dst_path: Str) -> Bool {
        return ffi_path_rename(src_path, dst_path)
    }

    /// Copy a file
    pub func copy(src_path: Str, dst_path: Str) -> Bool {
        return ffi_path_copy(src_path, dst_path)
    }

    /// Join two path components
    pub func join(base_path: Str, child_path: Str) -> Str {
        return ffi_path_join(base_path, child_path)
    }

    /// Get the parent directory of a path
    pub func parent(path: Str) -> Str {
        return ffi_path_parent(path)
    }

    /// Get the filename from a path
    pub func filename(path: Str) -> Str {
        return ffi_path_filename(path)
    }

    /// Get the file extension (including dot)
    pub func extension(path: Str) -> Str {
        return ffi_path_extension(path)
    }

    /// Get the absolute path
    pub func absolute(path: Str) -> Str {
        return ffi_path_absolute(path)
    }

    /// Create a directory
    pub func create_dir(path: Str) -> Bool {
        return ffi_path_create_dir(path)
    }

    /// Create a directory and all parent directories
    pub func create_dir_all(path: Str) -> Bool {
        return ffi_path_create_dir_all(path)
    }

    /// Remove a directory
    pub func remove_dir(path: Str) -> Bool {
        return ffi_path_remove_dir(path)
    }
}
