// Tests for std::net::sys - AddressFamily and ShutdownMode enums
use test
use std::net::sys::{AddressFamily, ShutdownMode, SocketProtocol}

@test
func test_address_family_to_raw() -> I32 {
    assert_eq(AddressFamily::Inet.to_raw(), 2 as I32, "Inet is AF_INET(2)")
    assert_eq(AddressFamily::Inet6.to_raw(), 23 as I32, "Inet6 is AF_INET6(23)")
    return 0
}

@test
func test_address_family_from_raw() -> I32 {
    let inet: Maybe[AddressFamily] = AddressFamily::from_raw(2 as I32)
    assert(inet.is_just(), "from_raw(2) should be Just(Inet)")
    let inet6: Maybe[AddressFamily] = AddressFamily::from_raw(23 as I32)
    assert(inet6.is_just(), "from_raw(23) should be Just(Inet6)")
    let inet6_unix: Maybe[AddressFamily] = AddressFamily::from_raw(10 as I32)
    assert(inet6_unix.is_just(), "from_raw(10) should be Just(Inet6) on Unix")
    let invalid: Maybe[AddressFamily] = AddressFamily::from_raw(99 as I32)
    assert(invalid.is_nothing(), "from_raw(99) should be Nothing")
    return 0
}

@test
func test_shutdown_mode_to_raw() -> I32 {
    assert_eq(ShutdownMode::Read.to_raw(), 0 as I32, "Read shutdown is 0")
    assert_eq(ShutdownMode::Write.to_raw(), 1 as I32, "Write shutdown is 1")
    assert_eq(ShutdownMode::Both.to_raw(), 2 as I32, "Both shutdown is 2")
    return 0
}
