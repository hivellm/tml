// Tests for std::net::ip - IpAddr enum
use test
use std::net::ip::{IpAddr, Ipv4Addr, Ipv6Addr}

@test
func test_ipaddr_v4() -> I32 {
    let addr: IpAddr = IpAddr::V4(Ipv4Addr::LOCALHOST())
    assert(addr.is_ipv4(), "V4 should be ipv4")
    assert(not addr.is_ipv6(), "V4 should not be ipv6")
    assert(addr.is_loopback(), "V4 localhost should be loopback")
    return 0
}

@test
func test_ipaddr_v6() -> I32 {
    let addr: IpAddr = IpAddr::V6(Ipv6Addr::LOCALHOST())
    assert(addr.is_ipv6(), "V6 should be ipv6")
    assert(not addr.is_ipv4(), "V6 should not be ipv4")
    assert(addr.is_loopback(), "V6 localhost should be loopback")
    return 0
}

@test
func test_ipaddr_unspecified() -> I32 {
    let v4: IpAddr = IpAddr::V4(Ipv4Addr::UNSPECIFIED())
    let v6: IpAddr = IpAddr::V6(Ipv6Addr::UNSPECIFIED())
    assert(v4.is_unspecified(), "V4 0.0.0.0 should be unspecified")
    assert(v6.is_unspecified(), "V6 :: should be unspecified")
    return 0
}
