// Tests for std::net::ip - Ipv4Addr
use test
use std::net::ip::{Ipv4Addr}

@test
func test_ipv4_localhost() -> I32 {
    let addr: Ipv4Addr = Ipv4Addr::LOCALHOST()
    assert_eq(addr.octet0(), 127 as U8, "localhost o0")
    assert_eq(addr.octet1(), 0 as U8, "localhost o1")
    assert_eq(addr.octet2(), 0 as U8, "localhost o2")
    assert_eq(addr.octet3(), 1 as U8, "localhost o3")
    return 0
}

@test
func test_ipv4_is_loopback() -> I32 {
    assert(Ipv4Addr::LOCALHOST().is_loopback(), "127.0.0.1 should be loopback")
    assert(Ipv4Addr::new(127, 1, 2, 3).is_loopback(), "127.1.2.3 should be loopback")
    assert(not Ipv4Addr::new(192, 168, 1, 1).is_loopback(), "192.168.1.1 should not be loopback")
    return 0
}

@test
func test_ipv4_is_private() -> I32 {
    assert(Ipv4Addr::new(10, 0, 0, 1).is_private(), "10.0.0.1 should be private")
    assert(Ipv4Addr::new(192, 168, 1, 1).is_private(), "192.168.1.1 should be private")
    assert(Ipv4Addr::new(172, 16, 0, 1).is_private(), "172.16.0.1 should be private")
    assert(not Ipv4Addr::new(8, 8, 8, 8).is_private(), "8.8.8.8 should not be private")
    return 0
}
