use test
use std::uuid::Uuid

@test
func test_uuid_v3_version_and_variant() -> I32 {
    let ns = Uuid::namespace_dns()
    let id = Uuid::v3(ns, "example.com")
    assert_eq(id.version(), 3)
    assert_eq(id.variant(), 2)
    0
}

@test
func test_uuid_v3_deterministic() -> I32 {
    let ns = Uuid::namespace_dns()
    let a = Uuid::v3(ns, "example.com")
    let b = Uuid::v3(ns, "example.com")
    assert(a.eq(ref b), "same namespace+name should produce same UUID")
    0
}

@test
func test_uuid_v3_different_names() -> I32 {
    let ns = Uuid::namespace_dns()
    let a = Uuid::v3(ns, "example.com")
    let b = Uuid::v3(ns, "example.org")
    assert(not a.eq(ref b), "different names should produce different UUIDs")
    0
}

@test
func test_uuid_v3_different_namespaces() -> I32 {
    let a = Uuid::v3(Uuid::namespace_dns(), "test")
    let b = Uuid::v3(Uuid::namespace_url(), "test")
    assert(not a.eq(ref b), "different namespaces should produce different UUIDs")
    0
}
