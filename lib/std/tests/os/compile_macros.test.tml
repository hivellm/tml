use test

@test
func test_file_macro() -> I32 {
    let f: Str = __FILE__
    assert(f.len() > 0, "__FILE__ should not be empty")
    assert(f.contains("compile_macros"), "__FILE__ should contain the test filename")
    return 0
}

@test
func test_dirname_macro() -> I32 {
    let d: Str = __DIRNAME__
    assert(d.len() > 0, "__DIRNAME__ should not be empty")
    assert(d.contains("os"), "__DIRNAME__ should contain the directory name")
    return 0
}

@test
func test_line_macro() -> I32 {
    let line: I32 = __LINE__
    assert(line == 27, "__LINE__ should be 27")
    return 0
}
