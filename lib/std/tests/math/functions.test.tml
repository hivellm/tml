// Math module: function tests (exp, log, rounding, utility)
use test::{assert_eq, assert}
use std::math

@test
func test_exp_zero() -> I32 {
    assert_eq(math::exp(0.0), 1.0, "exp(0) should be 1")
    return 0
}

@test
func test_ln_one() -> I32 {
    assert_eq(math::ln(1.0), 0.0, "ln(1) should be 0")
    return 0
}

@test
func test_sqrt_four() -> I32 {
    assert_eq(math::sqrt(4.0), 2.0, "sqrt(4) should be 2")
    return 0
}

@test
func test_abs_negative() -> I32 {
    assert_eq(math::abs(-5.0), 5.0, "abs(-5) should be 5")
    return 0
}

@test
func test_floor() -> I32 {
    assert_eq(math::floor(3.7), 3.0, "floor(3.7) should be 3")
    return 0
}

@test
func test_ceil() -> I32 {
    assert_eq(math::ceil(3.2), 4.0, "ceil(3.2) should be 4")
    return 0
}

@test
func test_round() -> I32 {
    assert_eq(math::round(3.5), 4.0, "round(3.5) should be 4")
    return 0
}

@test
func test_trunc() -> I32 {
    assert_eq(math::trunc(3.9), 3.0, "trunc(3.9) should be 3")
    return 0
}

@test
func test_min() -> I32 {
    assert_eq(math::min(3.0, 5.0), 3.0, "min(3,5) should be 3")
    return 0
}

@test
func test_max() -> I32 {
    assert_eq(math::max(3.0, 5.0), 5.0, "max(3,5) should be 5")
    return 0
}

@test
func test_clamp() -> I32 {
    assert_eq(math::clamp(10.0, 0.0, 5.0), 5.0, "clamp(10,0,5) should be 5")
    assert_eq(math::clamp(-1.0, 0.0, 5.0), 0.0, "clamp(-1,0,5) should be 0")
    assert_eq(math::clamp(3.0, 0.0, 5.0), 3.0, "clamp(3,0,5) should be 3")
    return 0
}

@test
func test_to_radians() -> I32 {
    let rad = math::to_radians(180.0)
    assert(rad > 3.14159 and rad < 3.14160, "180 degrees should be ~PI radians")
    return 0
}

@test
func test_to_degrees() -> I32 {
    let deg = math::to_degrees(3.14159265358979323846)
    assert(deg > 179.999 and deg < 180.001, "PI radians should be ~180 degrees")
    return 0
}
