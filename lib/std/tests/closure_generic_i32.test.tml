// Test generic function with closure parameter - I32 specialization
use test

func apply_i32(x: I32, f: func(I32) -> I32) -> I32 {
    return f(x)
}

@test
func test_apply_i32_multiply() -> I32 {
    let result: I32 = apply_i32(5, do(val: I32) val * 2)
    assert(result == 10, "apply_i32(5, *2) should be 10")
    return 0
}

@test
func test_apply_i32_add() -> I32 {
    let result: I32 = apply_i32(10, do(val: I32) val + 3)
    assert(result == 13, "apply_i32(10, +3) should be 13")
    return 0
}
