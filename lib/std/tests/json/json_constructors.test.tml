// Tests for std::json value constructors
use test
use std::json::types::Json

@test
func test_json_new_null() -> I32 {
    let j: Json = Json::new_null()
    assert(j.is_null(), "new_null should be null")
    assert(not j.is_object(), "null is not object")
    assert(not j.is_number(), "null is not number")
    return 0
}

@test
func test_json_new_bool() -> I32 {
    let t: Json = Json::new_bool(true)
    let f: Json = Json::new_bool(false)
    assert(t.is_bool(), "true should be bool")
    assert(f.is_bool(), "false should be bool")
    assert(t.unwrap_bool(), "should be true")
    assert(not f.unwrap_bool(), "should be false")
    return 0
}

@test
func test_json_int_constructor() -> I32 {
    let j: Json = Json::int(42 as I64)
    assert(j.is_number(), "should be number")
    let val: I64 = j.unwrap_i64()
    assert_eq(val, 42 as I64, "value should be 42")
    return 0
}
