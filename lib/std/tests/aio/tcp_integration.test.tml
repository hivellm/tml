use test::{assert, assert_eq}
use std::net::async_tcp::AsyncTcpListener

@test
func test_tcp_listener_basic() -> I32 {
    let listener = AsyncTcpListener::bind("127.0.0.1:0")!
    let addr = listener.local_addr()!

    // Just verify binding works
    assert(addr.ip().to_string().len() > 0, "address should be valid")
    return 0
}

@test
func test_tcp_listener_socket_methods_exist() -> I32 {
    // This test just verifies the methods exist (they compile)
    let listener = AsyncTcpListener::bind("127.0.0.1:0")!

    // Methods exist if code type-checks
    return 0
}
