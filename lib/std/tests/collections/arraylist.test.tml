// Tests for std::collections::class_collections - ArrayList
use test
use std::collections::class_collections::{ArrayList}

@test
func test_arraylist_create() -> I32 {
    let list: ArrayList[I32] = ArrayList::create()
    assert_eq(list.count(), 0 as I64, "new ArrayList is empty")
    assert(list.is_empty(), "new ArrayList is_empty")
    return 0
}

@test
func test_arraylist_add_get() -> I32 {
    var list: ArrayList[I32] = ArrayList::create()
    list.add(10 as I32)
    list.add(20 as I32)
    list.add(30 as I32)
    assert_eq(list.count(), 3 as I64, "count after 3 adds")
    assert_eq(list.get(0 as I64), 10 as I32, "get(0) is 10")
    assert_eq(list.get(1 as I64), 20 as I32, "get(1) is 20")
    assert_eq(list.get(2 as I64), 30 as I32, "get(2) is 30")
    return 0
}

@test
func test_arraylist_set_clear() -> I32 {
    var list: ArrayList[I32] = ArrayList::create()
    list.add(1 as I32)
    list.add(2 as I32)
    list.set(0 as I64, 99 as I32)
    assert_eq(list.get(0 as I64), 99 as I32, "set updates value")
    list.clear()
    assert(list.is_empty(), "clear empties list")
    return 0
}
