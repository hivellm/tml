use test
use std::collections::Buffer

@test
func test_buffer_compare() -> I32 {
    var buf1: Buffer = Buffer.new(8)
    buf1.write_byte(1)
    buf1.write_byte(2)
    buf1.write_byte(3)
    var buf2: Buffer = Buffer.new(8)
    buf2.write_byte(1)
    buf2.write_byte(2)
    buf2.write_byte(3)
    var buf3: Buffer = Buffer.new(8)
    buf3.write_byte(1)
    buf3.write_byte(2)
    buf3.write_byte(4)
    assert_eq(buf1.compare(ref buf2), 0, "equal buffers")
    buf1.destroy()
    buf2.destroy()
    buf3.destroy()
    return 0
}
