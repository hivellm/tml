// Minimal test for stack patterns
use std::sync::LockFreeStack

func main() {
    let stack: LockFreeStack[I32] = LockFreeStack::new[I32]()

    // Test empty check
    if not stack.is_empty() {
        print("FAIL: new stack should be empty\n")
        return
    }

    // Test push
    stack.push(42)
    if stack.is_empty() {
        print("FAIL: stack should not be empty after push\n")
        return
    }

    // Test pop
    let result: Maybe[I32] = stack.pop()
    when result {
        Just(val) => {
            if val == 42 {
                print("PASS\n")
            } else {
                print("FAIL: wrong value\n")
            }
        },
        Nothing => print("FAIL: pop returned Nothing\n")
    }
}
