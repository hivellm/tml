# TML vs C++ Profile Benchmark Report

**Date:** 2026-02-24 12:02:26
**Platform:** Windows 10 (AMD64)
**C++ Compiler:** MSVC /O2 (Visual Studio 2022)
**TML Compiler:** tml.exe --release (LLVM -O3)
**Total runtime:** 4.3s

---

## Memory

| Operation | C++ (ns/op) | TML (ns/op) | Verdict |
|---|---:|---:|---|
| malloc/free (64 bytes) | 158 | - | C++ only |
| new/delete Small (16 bytes) | 22 | - | C++ only |
| new/delete Medium (64 bytes) | 150 | - | C++ only |
| new/delete Large (192 bytes) | 28 | - | C++ only |
| Stack Struct Creation | 0 | - | C++ only |
| unique_ptr RAII | 22 | - | C++ only |
| Struct Copy (64 bytes) | 0 | - | C++ only |
| memcpy (1KB) | 0 | - | C++ only |
| Array Alloc (1000 structs) | 29 | - | C++ only |
| Sequential Access | 0 | 0 | ~tied |
| Random Access | 0 | 0 | ~tied |
| Pointer Indirection | 0 | - | C++ only |
| Stack Struct Small (16 bytes) | - | 0 | TML only |
| Stack Struct Medium (64 bytes) | - | 0 | TML only |
| Struct Field Access | - | 0 | TML only |
| Nested Struct Access | - | 0 | TML only |
| Point Creation | - | 0 | TML only |
| Array Copy (1000 elements) | - | 0 | TML only |
| Array Fill (1000 elements) | - | 0 | TML only |

## Text

| Operation | C++ (ns/op) | TML (ns/op) | Verdict |
|---|---:|---:|---|
| stringstream Append | 166 | - | C++ only |
| string Reserve+Append | 13 | - | C++ only |
| string Naive Append | 5 | - | C++ only |
| Build JSON | 340 | - | C++ only |
| Build HTML | 16 | - | C++ only |
| Build CSV | 40 | - | C++ only |
| Small Appends (1 char) | 0 | - | C++ only |
| Number Formatting | 661 | 90 | **TML 7.3x faster** |
| Log Messages | 50 | 40 | **TML 1.2x faster** |
| Path Building | 24 | 9 | **TML 2.7x faster** |
| Text Append (O(1) amortized) | - | 46 | TML only |
| Str Naive Append (O(n^2)) | - | 3358 | TML only |
| Build JSON (10K items) | - | 126 | TML only |
| Build HTML (10K items) | - | 6 | TML only |
| Build CSV (10K rows) | - | 25 | TML only |
| Small Appends push() | - | 0 | TML only |
| Small Appends push_str() | - | 0 | TML only |
| Small Appends fill_char() batch | - | 0 | TML only |
| Small Appends raw ptr | - | 0 | TML only |

---

## Summary

| | Count | % |
|---|---:|---:|
| **TML faster** | 3 | 60% |
| **Tied** (< 1.2x) | 2 | 40% |
| **C++ faster** | 0 | 0% |
| **Total comparisons** | 5 | 100% |
