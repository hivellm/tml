// Test impl Behavior return types - parsing infrastructure
// This test verifies the parsing of impl Behavior syntax works correctly

// Define a simple behavior
behavior Counter {
    func count(this: ref This) -> I32
}

// A struct that implements Counter
type SimpleCounter {
    value: I32
}

impl Counter for SimpleCounter {
    func count(this: ref This) -> I32 {
        return this.value
    }
}

// Test that impl Behavior can be used as a type annotation (parsing test)
// Note: Full runtime support for impl Behavior returns requires additional codegen work
func accepts_impl_counter(c: impl Counter) -> Unit {
    // This tests that impl Behavior can be used in parameter types
}

@test
func test_impl_behavior_parsing() {
    // Test that the impl Behavior syntax parses correctly
    // Full codegen support is tracked separately
    let counter: SimpleCounter = SimpleCounter { value: 42 }
    let value: I32 = counter.count()
    assert_eq(value, 42)
    println("impl Behavior parsing test passed!")
}
