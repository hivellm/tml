use test
use std::time::Instant

// Time Function Tests
// Migrated from time_ms()/elapsed_ms() builtins to std::time::Instant

@test
func test_time_ns_runs() -> I32 {
    // Verify Instant::now() executes without crashing
    let t = Instant::now()
    let ns = t.as_nanos()
    let check: Bool = ns == ns  // Always true, verifies function ran
    assert(check, "time_ns should return a value")
    return 0
}

@test
func test_time_ns_increases() -> I32 {
    let t1 = Instant::now()
    let mut i: I32 = 0
    loop (i < 1000) {
        i = i + 1
    }
    let t2 = Instant::now()
    let diff = t2.as_nanos() - t1.as_nanos()
    assert(diff >= 0, "time should not go backwards")
    return 0
}

@test
func test_elapsed_basic() -> I32 {
    let start = Instant::now()
    let elapsed = start.elapsed()
    let nanos = elapsed.as_nanos()
    assert(nanos >= 0, "elapsed should be non-negative")
    return 0
}
