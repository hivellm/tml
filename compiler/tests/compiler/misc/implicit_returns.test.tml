// Test: Implicit returns
// Phase 11 of lang-ergonomics task

// Test: Simple expression as implicit return
func add(a: I32, b: I32) -> I32 {
    a + b
}

@test
func test_simple_implicit_return() {
    assert_eq(add(2, 3), 5)
}

// Test: If expression as implicit return
func max(a: I32, b: I32) -> I32 {
    if a > b {
        a
    } else {
        b
    }
}

@test
func test_if_implicit_return() {
    assert_eq(max(10, 5), 10)
    assert_eq(max(3, 7), 7)
}

// Test: Variable as implicit return
func double(x: I32) -> I32 {
    let result = x * 2
    result
}

@test
func test_variable_implicit_return() {
    assert_eq(double(21), 42)
}

// Test: Nested arithmetic as implicit return
func quadratic(x: I32) -> I32 {
    x * x + 2 * x + 1
}

@test
func test_complex_expression_implicit_return() {
    assert_eq(quadratic(3), 16)  // 9 + 6 + 1
}

// Test: Chained if-else implicit return
func classify(x: I32) -> I32 {
    if x < 0 {
        -1
    } else if x == 0 {
        0
    } else {
        1
    }
}

@test
func test_chained_if_implicit_return() {
    assert_eq(classify(-5), -1)
    assert_eq(classify(0), 0)
    assert_eq(classify(5), 1)
}

func main() {
    test_simple_implicit_return()
    test_if_implicit_return()
    test_variable_implicit_return()
    test_complex_expression_implicit_return()
    test_chained_if_implicit_return()
}
