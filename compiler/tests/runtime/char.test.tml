use test
use core::char

// Char Operation Tests
// Tests for char classification, conversion, and code operations
// Uses module-qualified calls: char::is_alphabetic(), char::to_uppercase(), etc.

// ============ char::is_alphabetic tests ============

@test
func test_char_is_alphabetic_letter() -> I32 {
    assert(char::is_alphabetic('a'), "'a' should be alphabetic")
    assert(char::is_alphabetic('Z'), "'Z' should be alphabetic")
    return 0
}

@test
func test_char_is_alphabetic_digit() -> I32 {
    assert(not char::is_alphabetic('5'), "'5' should not be alphabetic")
    return 0
}

@test
func test_char_is_alphabetic_special() -> I32 {
    assert(not char::is_alphabetic('!'), "'!' should not be alphabetic")
    return 0
}

// ============ char::is_numeric tests ============

@test
func test_char_is_numeric_digit() -> I32 {
    assert(char::is_numeric('0'), "'0' should be numeric")
    assert(char::is_numeric('9'), "'9' should be numeric")
    return 0
}

@test
func test_char_is_numeric_letter() -> I32 {
    assert(not char::is_numeric('a'), "'a' should not be numeric")
    return 0
}

// ============ char::is_alphanumeric tests ============

@test
func test_char_is_alphanumeric_letter() -> I32 {
    assert(char::is_alphanumeric('a'), "'a' should be alphanumeric")
    return 0
}

@test
func test_char_is_alphanumeric_digit() -> I32 {
    assert(char::is_alphanumeric('5'), "'5' should be alphanumeric")
    return 0
}

@test
func test_char_is_alphanumeric_special() -> I32 {
    assert(not char::is_alphanumeric('@'), "'@' should not be alphanumeric")
    return 0
}

// ============ char::is_whitespace tests ============

@test
func test_char_is_whitespace_space() -> I32 {
    assert(char::is_whitespace(' '), "space should be whitespace")
    return 0
}

@test
func test_char_is_whitespace_letter() -> I32 {
    assert(not char::is_whitespace('a'), "'a' should not be whitespace")
    return 0
}

// ============ char::is_uppercase tests ============

@test
func test_char_is_uppercase_upper() -> I32 {
    assert(char::is_uppercase('A'), "'A' should be uppercase")
    assert(char::is_uppercase('Z'), "'Z' should be uppercase")
    return 0
}

@test
func test_char_is_uppercase_lower() -> I32 {
    assert(not char::is_uppercase('a'), "'a' should not be uppercase")
    return 0
}

// ============ char::is_lowercase tests ============

@test
func test_char_is_lowercase_lower() -> I32 {
    assert(char::is_lowercase('a'), "'a' should be lowercase")
    assert(char::is_lowercase('z'), "'z' should be lowercase")
    return 0
}

@test
func test_char_is_lowercase_upper() -> I32 {
    assert(not char::is_lowercase('A'), "'A' should not be lowercase")
    return 0
}

// ============ char::is_ascii tests ============

@test
func test_char_is_ascii_valid() -> I32 {
    assert(char::is_ascii('a'), "'a' should be ASCII")
    assert(char::is_ascii('0'), "'0' should be ASCII")
    return 0
}

// ============ char case conversion tests ============

@test
func test_char_to_uppercase_lower() -> I32 {
    let upper: Char = char::to_uppercase('a')
    assert(upper == 'A', "'a' to uppercase should be 'A'")
    return 0
}

@test
func test_char_to_uppercase_already_upper() -> I32 {
    let upper: Char = char::to_uppercase('A')
    assert(upper == 'A', "'A' to uppercase should still be 'A'")
    return 0
}

@test
func test_char_to_lowercase_upper() -> I32 {
    let lower: Char = char::to_lowercase('A')
    assert(lower == 'a', "'A' to lowercase should be 'a'")
    return 0
}

@test
func test_char_to_lowercase_already_lower() -> I32 {
    let lower: Char = char::to_lowercase('a')
    assert(lower == 'a', "'a' to lowercase should still be 'a'")
    return 0
}

// ============ char digit/code tests ============

@test
func test_char_code_letter() -> I32 {
    let code: I32 = 'A' as I32
    assert(code == 65, "'A' should have code 65")
    return 0
}

@test
func test_char_code_digit() -> I32 {
    let code: I32 = '0' as I32
    assert(code == 48, "'0' should have code 48")
    return 0
}

// ============ char from code tests (using as Char cast) ============

@test
func test_char_from_code_letter() -> I32 {
    let c: Char = 65 as Char
    assert((c as I32) == 65, "code 65 should produce 'A'")
    return 0
}

@test
func test_char_from_code_digit() -> I32 {
    let c: Char = 48 as Char
    assert((c as I32) == 48, "code 48 should produce '0'")
    return 0
}
